<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>[Python3爬虫]selenium爬取淘宝商品信息 | Yhchdev</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/8.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">[Python3爬虫]selenium爬取淘宝商品信息</h1><a id="logo" href="/.">Yhchdev</a><p class="description"></p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/jinengshu/"><i class="fa fa-tree"> 技能</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">[Python3爬虫]selenium爬取淘宝商品信息</h1><div class="post-meta">Aug 7, 2018</div><div class="post-content"><h4 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h4><p>前面介绍了使用selenium和chromedriver通过模拟浏览器运行的方式可以做到在浏览器中看到是什么样，抓取的源码就是什么样。不用再去管网页内部的JavaScript是如何渲染页面，也不用管网页后台的Ajax接口有哪些参数，甚至是加密规律等。这篇博客是实战演练，通过Selenium爬取淘宝网商品的图片，名称，价格，购买人数，店铺名称，店铺所在地信息，将结果保存至Mongodb数据库中。</p>
<h4 id="Chromedriver-for-linux"><a href="#Chromedriver-for-linux" class="headerlink" title="Chromedriver for linux"></a>Chromedriver for linux</h4><p>上一篇博客只介绍了chromedriver在windows下的安装</p>
<p><a href="http://yhch.xyz/2018/07/08/Python3%E7%88%AC%E8%99%AB-selenium-chromedriver%E5%8F%AF%E8%A7%81%E5%8D%B3%E5%8F%AF%E7%88%AC/" target="_blank" rel="noopener">http://yhch.xyz/2018/07/08/Python3%E7%88%AC%E8%99%AB-selenium-chromedriver%E5%8F%AF%E8%A7%81%E5%8D%B3%E5%8F%AF%E7%88%AC/</a></p>
<p>对应版本的下载和测试安装是方法是一样的</p>
<figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">  </span><br><span class="line"></span><br><span class="line">//解压</span><br><span class="line">unzip chromedriver_linux64.zip</span><br><span class="line">//移动到环境变量所在的目录</span><br><span class="line">sudo mv chromedriver /usr/bin</span><br><span class="line"></span><br><span class="line">//或者将chromedriver所在目录，添加到环境变量</span><br><span class="line">export PATH="$PATH:所在目录"</span><br><span class="line">//执行新的配置</span><br><span class="line">source ~/.porfile</span><br><span class="line"></span><br></pre></td></tr></table></figure>  
<h4 id="分析一波"><a href="#分析一波" class="headerlink" title="分析一波"></a>分析一波</h4><h5 id="1-ajax请求分析"><a href="#1-ajax请求分析" class="headerlink" title="1.ajax请求分析"></a>1.ajax请求分析</h5><p><img src="http://pbn3uskcn.bkt.clouddn.com/taobao11.PNG" alt="pic1"></p>
<p><strong>_ksTS,rn</strong>这两个参数很难发现其规律，所以这里不采用构造Ajax请求的方式来爬取内容，而通过selemium价格网页最终呈现效果的HTML代码全部爬取下来，再来提取所要信息</p>
<h5 id="2-商品分析"><a href="#2-商品分析" class="headerlink" title="2.商品分析"></a>2.商品分析</h5><p><img src="http://pbn3uskcn.bkt.clouddn.com/taobao12.PNG" alt="pic2"><br>需要说明的是<strong>src</strong> 和<strong>data-src</strong>都是商品图片的网络地址,区别是前者是缩略图而后者是高清大图，两者都可以任意爬取，这里爬取的是后者</p>
<h4 id="3-页码分析"><a href="#3-页码分析" class="headerlink" title="3.页码分析"></a>3.页码分析</h4><p><img src="http://pbn3uskcn.bkt.clouddn.com/taobao13.png" alt="pic3"></p>
<p>这里不点击下一页，而是通过自动输入页面数来进行页面跳转，一方面是要实时监控爬取到多少页，另一方面，当程序出现异常，下一次运行又从第一页开始，下一页依次爬取，数据库中，会有重复记录</p>
<h4 id="code"><a href="#code" class="headerlink" title="code"></a>code</h4><h5 id="1-获取商品列表"><a href="#1-获取商品列表" class="headerlink" title="1. 获取商品列表"></a>1. 获取商品列表</h5><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">  </span><br><span class="line"></span><br><span class="line">import pymongo</span><br><span class="line">from selenium import webdriver</span><br><span class="line">from selenium.common.exceptions import  TimeoutException</span><br><span class="line">from selenium.webdriver.common.by import By</span><br><span class="line">from selenium.webdriver.support import expected_conditions as EC</span><br><span class="line">from selenium.webdriver.support.wait import WebDriverWait</span><br><span class="line">from urllib.parse import quote</span><br><span class="line">from pyquery import  PyQuery as pq</span><br><span class="line"></span><br><span class="line">driver = webdriver.Chrome()</span><br><span class="line">wait = WebDriverWait(driver,10)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">KEYWORD = 'iMac'</span><br><span class="line"></span><br><span class="line">def index_page(page):</span><br><span class="line">    <span class="attribute">print('正在爬取第',page,'页')</span></span><br><span class="line">    try:</span><br><span class="line">        url = 'https://s.taobao.com/search?q='+quote(KEYWORD)</span><br><span class="line">        <span class="attribute">driver.get(url)</span></span><br><span class="line">        if page &gt; 1:</span><br><span class="line">            input = wait.until(</span><br><span class="line">                <span class="attribute">EC.presence_of_element_located((By.CSS_SELECTOR,</span></span><br><span class="line">                                                '#mainsrp-pager    div.form &gt; input')))</span><br><span class="line">            submit = wait.until(</span><br><span class="line">                <span class="attribute">EC.presence_of_element_located((By.CSS_SELECTOR,</span></span><br><span class="line">                                        '#mainsrp-pager div.form &gt; span.btn.J_Submit')))</span><br><span class="line">            <span class="attribute">input.clear()</span></span><br><span class="line">            input.send_keys(page)</span><br><span class="line">            <span class="attribute">submit.click()</span></span><br><span class="line">        wait.until(</span><br><span class="line">            EC.text_to_be_present_in_element((By.CSS_SELECTOR,'#mainsrp-pager li.item.active &gt; span'),str(page))</span><br><span class="line">        )</span><br><span class="line">        <span class="attribute">wait.until(</span></span><br><span class="line">            EC.presence_of_element_located((</span><br><span class="line">                By.CSS_SELECTOR,'.m-itemlist .items .item')))</span><br><span class="line">        <span class="attribute">get_products()</span></span><br><span class="line">    except TimeoutException:</span><br><span class="line">        <span class="attribute">index_page(page)</span></span><br><span class="line">    </span><br></pre></td></tr></table></figure>  
<p>通过构造查询参数，得到淘宝网的搜索URL<strong><a href="https://s.taobao.com/search?q=iMac" target="_blank" rel="noopener">https://s.taobao.com/search?q=iMac</a></strong>,<strong>q</strong>后面接你要搜索的关键词。就能够跳转到搜索指定商品后的页面，也是程序的入口URL<br>通过改变<strong>EYWORD</strong>的值，就能爬取不同商品信息;拼接URL的时候用到<strong>quote</strong>方法，屏蔽特殊字符串，如空格等，URL地址里是不含空格的，同时将字符串转换为URL编码格式，以保证URL的正确性。</p>
<p>下面代码等待加载时，使用了WebDriverWait对象，指定等待条件和10s的最长等待时间，如果在这个时间内页面元素成功加载出来了，就相应结果并继续向下执行，否则抛出超时异常。<strong>EC.presence_of_element_located</strong>是元素成功加载出来，<strong>EC.presence_of_element_located</strong> 意思是元素可以点击，因为它是一个按钮，这个按钮的作用是选定页码后的点击确定后跳转。</p>
<p>为了验证跳转到了对应的页码，需要判断当前高亮的页码数是当前的页码数(当前所在页码会高亮显示,也就是说当前页码的css是特殊的)，所以这里使用了另一个等待条件<strong>text_to_be_present_in_element</strong>，它会等待指定的文本出现在某一个节点里面时即返回成功。这里我们将高亮的页码节点对应的CSS选择器和当前要跳转的页码通过参数传递给这个等待条件，这样它就会检测当前高亮的页码节点是不是我们传过来的页码数，如果是，就证明页面成功跳转到了这一页，页面跳转成功。</p>
<p>这样刚才实现的index_page()方法就可以传入对应的页码，待加载出对应页码的商品列表后，再去调用get_products()方法进行页面解析。</p>
<p>这些等待条件的参数都是特定的css选择器，不做赘述了，图片已经标注的很清楚了</p>
<h5 id="2-解析商品列表"><a href="#2-解析商品列表" class="headerlink" title="2.解析商品列表"></a>2.解析商品列表</h5><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">  </span><br><span class="line"></span><br><span class="line">def get_products():</span><br><span class="line">    html = driver.page_source</span><br><span class="line">    doc = pq(html)</span><br><span class="line">    items = doc('#mainsrp-itemlist .items .item').items()</span><br><span class="line">    for item in items:</span><br><span class="line">        product = &#123;</span><br><span class="line">            'image' : item.find('.pic .img').attr('data-src'),</span><br><span class="line">            'price' : item.find('.price').text(),</span><br><span class="line">            'deal' : item.find('.deal-cnt').text(),</span><br><span class="line">            'title' : item.find('.title').text(),</span><br><span class="line">            'shop': item.find('.shop').text(),</span><br><span class="line">            'location':item.find('.location').text()</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="attribute">print(product)</span></span><br><span class="line">        save_to_mongo(product)</span><br><span class="line">        <span class="attribute">print('\n')</span></span><br><span class="line">        </span><br><span class="line">   </span><br></pre></td></tr></table></figure>  
<p>通过<strong>driver.page_source</strong> 获得了不同页码下完整html源码;同时使用Pyqurey来解析网页，通过已经查找的标签，查找这个标签下的子标签或者父标签，而不用从头开始查找，效率更高;通过<strong>find(css).属性</strong>方法,获取图片URL,和其他文本信息并构造成Json字符串，调用<strong>save_to_mongo</strong>函数存入数据库中。</p>
<h5 id="3-将结果保存到Mogodb中"><a href="#3-将结果保存到Mogodb中" class="headerlink" title="3.将结果保存到Mogodb中"></a>3.将结果保存到Mogodb中</h5><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def save_to_mongo(result):</span><br><span class="line">    client = pymongo.MongoClient('mongodb://admin:admin123@localhost:27017/')</span><br><span class="line">    db = client['taobao']</span><br><span class="line">    collection = db['products']</span><br><span class="line">    <span class="attribute">try:</span></span><br><span class="line">        if collection.insert(result):</span><br><span class="line">            <span class="attribute">print("成功保存到MongoDB")</span></span><br><span class="line">    except Exception:</span><br><span class="line">        print('someing wrong with MongDB')</span><br><span class="line">   </span><br><span class="line">   </span><br></pre></td></tr></table></figure>              
<p>python3通过认证方式连接Mongodb数据库，<strong>admin</strong>是我的用户名，<strong>admin123</strong>是我的密码，接着指定数据库和集合，调用<strong>insert</strong>方法插入数据。</p>
<h5 id="4-定义爬取页数"><a href="#4-定义爬取页数" class="headerlink" title="4.定义爬取页数"></a>4.定义爬取页数</h5><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">  </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span></span><span class="symbol">:</span></span><br><span class="line">    MAX_PAGE = <span class="number">100</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,MAX_PAGE+<span class="number">1</span>)<span class="symbol">:</span></span><br><span class="line">        index_page(i)</span><br><span class="line">    driver.close()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name_<span class="number">_</span> ==<span class="string">'__main__'</span><span class="symbol">:</span></span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>       
<p>简单for循环，并通过range生成1到100的数传递给<strong>index_page</strong>函数。</p>
<h5 id="5-完整代码"><a href="#5-完整代码" class="headerlink" title="5.完整代码"></a>5.完整代码</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line">  </span><br><span class="line"><span class="keyword">import</span> pymongo</span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">from</span> selenium.common.exceptions <span class="keyword">import</span>  TimeoutException</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.common.by <span class="keyword">import</span> By</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.support <span class="keyword">import</span> expected_conditions <span class="keyword">as</span> EC</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.support.wait <span class="keyword">import</span> WebDriverWait</span><br><span class="line"><span class="keyword">from</span> urllib.parse <span class="keyword">import</span> quote</span><br><span class="line"><span class="keyword">from</span> pyquery <span class="keyword">import</span>  PyQuery <span class="keyword">as</span> pq</span><br><span class="line"></span><br><span class="line">driver = webdriver.Chrome()</span><br><span class="line">wait = WebDriverWait(driver,<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">KEYWORD = <span class="string">'iMac'</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">index_page</span><span class="params">(page)</span>:</span></span><br><span class="line">    print(<span class="string">'正在爬取第'</span>,page,<span class="string">'页'</span>)</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        url = <span class="string">'https://s.taobao.com/search?q='</span>+quote(KEYWORD)</span><br><span class="line">        driver.get(url)</span><br><span class="line">        <span class="keyword">if</span> page &gt; <span class="number">1</span>:</span><br><span class="line">            input = wait.until(</span><br><span class="line">                EC.presence_of_element_located((By.CSS_SELECTOR,</span><br><span class="line">                                                <span class="string">'#mainsrp-pager    div.form &gt; input'</span>)))</span><br><span class="line">            submit = wait.until(</span><br><span class="line">                EC.element_to_be_clickable((By.CSS_SELECTOR,</span><br><span class="line">                                        <span class="string">'#mainsrp-pager div.form &gt; span.btn.J_Submit'</span>)))</span><br><span class="line">            input.clear()</span><br><span class="line">            input.send_keys(page)</span><br><span class="line">            submit.click()</span><br><span class="line">        wait.until(</span><br><span class="line">            EC.text_to_be_present_in_element((By.CSS_SELECTOR,<span class="string">'#mainsrp-pager li.item.active &gt; span'</span>),str(page))</span><br><span class="line">        )</span><br><span class="line">        wait.until(</span><br><span class="line">            EC.presence_of_element_located((</span><br><span class="line">                By.CSS_SELECTOR,<span class="string">'.m-itemlist .items .item'</span>)))</span><br><span class="line">        get_products()</span><br><span class="line">    <span class="keyword">except</span> TimeoutException:</span><br><span class="line">        index_page(page)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_products</span><span class="params">()</span>:</span></span><br><span class="line">    html = driver.page_source</span><br><span class="line">    doc = pq(html)</span><br><span class="line">    items = doc(<span class="string">'#mainsrp-itemlist .items .item'</span>).items()</span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> items:</span><br><span class="line">        product = &#123;</span><br><span class="line">            <span class="string">'image'</span> : item.find(<span class="string">'.pic .img'</span>).attr(<span class="string">'data-src'</span>),</span><br><span class="line">            <span class="string">'price'</span> : item.find(<span class="string">'.price'</span>).text(),</span><br><span class="line">            <span class="string">'deal'</span> : item.find(<span class="string">'.deal-cnt'</span>).text(),</span><br><span class="line">            <span class="string">'title'</span> : item.find(<span class="string">'.title'</span>).text(),</span><br><span class="line">            <span class="string">'shop'</span>: item.find(<span class="string">'.shop'</span>).text(),</span><br><span class="line">            <span class="string">'location'</span>:item.find(<span class="string">'.location'</span>).text()</span><br><span class="line">        &#125;</span><br><span class="line">        print(product)</span><br><span class="line">        save_to_mongo(product)</span><br><span class="line">        print(<span class="string">'\n'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">save_to_mongo</span><span class="params">(result)</span>:</span></span><br><span class="line">    client = pymongo.MongoClient(<span class="string">'mongodb://admin:admin123@localhost:27017/'</span>)</span><br><span class="line">    db = client[<span class="string">'taobao'</span>]</span><br><span class="line">    collection = db[<span class="string">'products'</span>]</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">if</span> collection.insert(result):</span><br><span class="line">            print(<span class="string">"成功保存到MongoDB"</span>)</span><br><span class="line">    <span class="keyword">except</span> Exception:</span><br><span class="line">        print(<span class="string">'someing wrong with MongDB'</span>)</span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">MAX_PAGE = <span class="number">100</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,MAX_PAGE+<span class="number">1</span>):</span><br><span class="line">        index_page(i)</span><br><span class="line">    driver.close()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ ==<span class="string">'__main__'</span>:</span><br><span class="line">    main()    </span><br></pre></td></tr></table></figure>  
<h4 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h4><p>这段程序是对以前所学知识的综合利用，Mongodb是前几天现学现用，这是我第一次使用，关系型数据库<strong>Oracle,Sql server,Mysql</strong>都用过，基本知识也有掌握，非关系型数据库<br>Mongodb以后可能会写几篇学习笔记</p>
<h4 id="运行结果"><a href="#运行结果" class="headerlink" title="运行结果"></a>运行结果</h4><h5 id="1，输出结果"><a href="#1，输出结果" class="headerlink" title="1，输出结果"></a>1，输出结果</h5><p><img src="http://pbn3uskcn.bkt.clouddn.com/taobao1.png" alt="pic4"></p>
<h5 id="2-查看mongodb中存入的数据"><a href="#2-查看mongodb中存入的数据" class="headerlink" title="2.查看mongodb中存入的数据"></a>2.查看mongodb中存入的数据</h5><p><img src="http://pbn3uskcn.bkt.clouddn.com/taobaopicX.png" alt="pic5"></p>
</div><iframe src="/donate/?AliPayQR=/img/AliPayQR.jpg&amp;WeChatQR=/img/WeChatQR.png&amp;GitHub=null&amp;BTCQR=null&amp;BTCKEY=null&amp;PayPal=null" style="overflow-x:hidden; overflow-y:hidden; border:0xp none #fff; min-height:240px; width:100%;" frameborder="0" scrolling="no"></iframe><div class="tags"></div><div class="post-nav"><a class="pre" href="/2018/08/19/Ubuntu-配置仿MacOS主题/">[Ubuntu]配置仿MacOS主题</a><a class="next" href="/2018/08/03/JSP-搭建开发环境/">[JSP]搭建开发环境</a></div><div id="lv-container" data-id="city" data-uid="MTAyMC8zNTcwNS8xMjI0MQ=="><script>(function(d, s) {
   var j, e = d.getElementsByTagName(s)[0];
   if (typeof LivereTower === 'function') { return; }
   j = d.createElement(s);
   j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
   j.async = true;
   e.parentNode.insertBefore(j, e);
})(document, 'script');
</script></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.baidu.com/baidu" method="get" accept-charset="utf-8" target="_blank"><input type="search" name="word" maxlength="20" placeholder="Search"/><input type="hidden" name="si" value="http://yoursite.com"/><input name="tn" type="hidden" value="bds"/><input name="cl" type="hidden" value="3"/><input name="ct" type="hidden" value="2097152"/><input name="s" type="hidden" value="on"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/10/14/网易滑动验证码破解/">网易滑动验证码破解</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/02/OpenCV-Python-TemplateMatching/">[OpenCV_Python]TemplateMatching</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/09/04/验证码识别-图形验证码识别01/">[验证码识别]图形验证码识别01</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/09/02/数据可视化-Seaborn简单介绍/">[数据可视化]Seaborn简单介绍</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/27/数据分析-基于人物登场率生成《倚天》词云图/">[数据分析]基于人物登场率生成《倚天》词云图</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/19/Ubuntu-配置仿MacOS主题/">[Ubuntu]配置仿MacOS主题</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/07/Python3爬虫-selenium爬取淘宝商品信息/">[Python3爬虫]selenium爬取淘宝商品信息</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/03/JSP-搭建开发环境/">[JSP]搭建开发环境</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/07/28/随笔-倚天屠龙记读后感/">[随笔]倚天屠龙记读后感</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/07/19/Design-Pattern-单例模式/">[Design Pattern]单例模式</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://www.example1.com/" title="site-name1" target="_blank">site-name1</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2018 <a href="/." rel="nofollow">Yhchdev.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async="async"></script><span id="busuanzi_container_site_pv">|访问量<span id="busuanzi_value_site_pv"></span></span><span id="busuanzi_container_site_uv">|访客数<span id="busuanzi_value_site_uv"> </span></span></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.2.5/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.2.5/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>